---
title:  "아람별 프로젝트: 어려움" 

categories:
  -  Project
tags:
  - [Project, Arambyeol]

date: 2022-06-28
last_modified_at: 2022-06-28
---
# 개발 도중 마주친 어려움 

## **스왑 파티션 나누기**

  처음 오라클 프리티어로 서버를 구성하고 ssh 로 접속하여 작업하던 도중, 서버가 무한 로딩에 걸리는 문제가 발견되었다. 혼자 접속하면 문제가 없었지만, 동시에 여러 명이 접속하면 문제가 발생했다. 처음엔 무엇이 문제인지 몰라, 서버가 무한 로딩에 걸리면 서버를 재부팅했다. 하지만 곧 예상하게 된 점이 메모리 문제였다. 프리티어 서비스 특성상 하드웨어 리소스가 넉넉하지 못해 RAM이 부족해 생긴 문제인 듯 보였다. 그래서 SWAP 파티션을 할당하여 하드디스크를 메모리와 비슷하게 사용하도록 설정해주었더니 문제없이 동작했다. 

  지금이야 알고나니 간단한 문제였지만, 그 때는 아무것도 몰라 서버를 몇 번을 재부팅 했는지 모르겠다. 


## **스크래핑 시 & 기호 &amp; 로 들어온 사건**

  아람별 프로젝트는 웹스크래핑을 이용해서 식단데이터를 가져온다. 크롤링이라고도 많이들 부르지만, 크롤링 알고리즘이 존재하지 않기에 스크래핑이 적절하다고 생각이 든다. 아무튼 우리의 프로젝트는 스크래핑을 해오는 페이지에 의존하여 운영되는 프로젝트 이기에, 스크래핑 해오는 과정에서 자잘한 버그가 많았다. 그 중 가장 찾기 힘들었던 것은 스크래핑 시 &가 \&amp;로 들어오는 문제였다. 문제는 처음에 데이터베이스에서 발견되었다. 데이터가 이상하게 들어가, 에러가 발생했다. 처음에는 flask와 MariaDB 간 문제인 줄 알았지만, 데이터를 하나하나 출력해가며 디버깅을 하니, 프론트에서 위와 같은 형식으로 스크래핑을 한다는 사실이었다. 사실 알고보면 당연한 것일 수 있지만,

## **운영 중 서버가 사라진 사건**
  
  아람별 프로젝트의 서버는 오라클 프리티어 서버로 사용하고 있었다. 그런데 어느날, 오라클 프리티어에 만들어둔 인스턴스가 사라져버렸고, 당연지사 아람별은 접속이 되지 않았다. 그 원인은 아직 분명하진 않지만 오라클의 정책 변경으로 무료 서버를 제공하지 않는다거나하는 이유가 있을 것 같다. 아무튼 서버를 AWS로 변경하였고, 서버 구성을 동일하게 하여 동작시켰다. 이 과정에서 도커의 필요성을 느꼈지만, 프리티어 특성상 도커를 설치하여 사용할 정도의 메모리와 CPU 성능이 나오지 않을 것 같아, 우선은 도커 없이 진행을 하였다. 
  